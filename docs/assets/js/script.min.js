var token;async function verify_login(){Cookies.get("token")?(token=Cookies.get("token"),console.log("Logged in.")):console.log("Not logged in.")}async function login(){window.location.replace("https://github.com/login/oauth/authorize?client_id=0d1b74e91be0580beb25&redirect_uri=http://127.0.0.1:8000/oauth&scope=public_repo")}async function trends(){var t=await get_issues();0!=t.total_count&&t.items.forEach(displayPost)}function displayPost(t){var e=`<div class="col" style="background: #282C37;"><div><a href="post.html?id=${t.id}"><img class="rounded img-fluid d-block w-100 fit-cover" style="height: 200px;" src="https://cdn.bootstrapstudio.io/placeholders/1400x800.png" /></a><div class="mt-2"><span class="badge bg-success fs-6 mx-2">👍 ${t.reactions["+1"]}</span><span class="badge bg-danger fs-6 mx-2">👎 ${t.reactions[-1]}</span></div><div class="py-4"><a href="user.html?id=${t.user.login}">${t.user.login}</a><h4>${t.title}</h4><hr /><p class="text-truncate" style="margin: 0px;">${t.body}</p></div></div></div>`;$("#post-feed").append(e)}function oauth(){return fetch("https://github.com/login/oauth/authorize?client_id=0d1b74e91be0580beb25&redirect_uri=http://127.0.0.1:8000/oauth",{mode:"no-cors",method:"GET"}).then((t=>t))}function get_issues(){return fetch("https://api.github.com/search/issues?q=gitlounge",{method:"GET",headers:{Accept:"application/vnd.github+json"}}).then((t=>t.json()))}verify_login(),trends();