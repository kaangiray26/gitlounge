var token;async function increase_progress(){let t=parseInt($("#progress-bar").find("div").attr("aria-valuenow"));$("#progress-bar").find("div").attr("aria-valuenow",t+1),$("#progress-bar").find("div").css("width",t+1+"%"),setTimeout(increase_progress,200)}async function authorization(){var t=window.location.search;if(t){var e=t.split("?code=")[1];if(e)return(token=await get_token(e))?(Cookies.set("token",token.token),Cookies.set("draft-title",""),Cookies.set("draft-body",""),void window.location.replace("/")):void window.location.replace("/401.html")}}function get_token(t){return fetch("https://kaangiray26.pythonanywhere.com/oauth?code="+t,{method:"GET"}).then((t=>!!t.ok&&t.json()))}function get_user(){return fetch("https://api.github.com/user",{method:"GET",headers:{Accept:"application/vnd.github+json",Authorization:`token ${token}`}}).then((t=>!!t.ok&&t.json()))}increase_progress(),authorization();